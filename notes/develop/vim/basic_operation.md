# Vim - 基本操作

## 加载指定的 .vimrc

```
vim -u <.vimrc>
gvim -U <.vimrc>
```

## window

```
:sp[lit] {file}     " 水平分屏
:new {file}         " 水平分屏
:sv[iew] {file}     " 水平分屏，以只读方式打开
:vs[plit] {file}    " 垂直分屏
:clo[se]            " 关闭当前窗口

Ctrl+w s            " 水平分割当前窗口
Ctrl+w v            " 垂直分割当前窗口
Ctrl+w q            " 关闭当前窗口
Ctrl+w n            " 打开一个新窗口（空文件）
Ctrl+w o            " 关闭出当前窗口之外的所有窗口
Ctrl+w T            " 当前窗口移动到新标签页

Ctrl+w =            " 统一窗口高度
Ctrl+w -            " 减小窗口高度
Ctrl+w +            " 增加窗口高度
Ctrl+w <            " 减小窗口宽度
Ctrl+w >            " 增加窗口宽度

Ctrl+w w            " 逐个窗口移动
Ctrl+w h            " 向左窗口移动
Ctrl+w j            " 向下窗口移动
Ctrl+w k            " 向上窗口移动
Ctrl+w l            " 向右窗口移动
Ctrl+w t            " 向最左上角窗口移动
Ctrl+w b            " 向最右下角窗口移动
Ctrl+w p            " 向前一个访问窗口移动

Ctrl+w r            " 向右或向下方交换窗口
Ctrl+w R            " 向左或向上方交换窗口
Ctrl+w x            " 交换同列或同行的窗口的位置

Ctrl+w H            " 移动窗口至最左端
Ctrl+w J            " 移动窗口至最下端
Ctrl+w K            " 移动窗口至最上端
Ctrl+w L            " 移动窗口至最右端

:set scb
:set scrollbind     " 分屏同步移动

:set scb!
:set scrollbind!    " 解除分屏同步移动
```

## tab

```
:tabnew     " 增加一个标签
:tabc       " 关闭当前的tab
:tabo       " 关闭所有其他的tab
:tabs       " 查看所有打开的tab
:tabp       " 前一个
:tabn       " 后一个
gT          " 前一个
gt          " 后一个
```

## buffers

```
:ls                     " 列出所有缓冲区
:buffers                " 列出所有缓冲区
:bn[ext]                " 下一个缓冲区
:bp[revious]            " 上一个缓冲区
:b {number, expression} " 跳转到指定缓冲区
:bd {number}            " 删除缓冲区
```

## 寄存器

### 寄存器分类

- `""`          匿名寄存器
- `"0-9`        编号寄存器
- `"-`          小删除寄存器
- `"a-z`        26 个命名寄存器
- `":`, `".`, `"%`  3 个只读寄存器
- `"#`          Buffer 交替文件寄存器
- `"=          `表达式寄存器
- `"*`, `"+`, `"~`  选区和拖放寄存器
- `"_`          黑洞寄存器
- `"/`          搜索模式寄存器

### 查看寄存器
```
:reg
```

### 使用寄存器

`"{register}[y|p]`

### 特殊寄存器

- `"+` 剪切板的内容
- `":` 上一个 Vim 命令
- `"/` 上一次搜索关键词
- `".` 上次 insert 模式中插入的字符串
- `"%` 当前文件名
- `"#` 交替文件:指 Buffer 中的上一个文件
- `"=` 表达式寄存器

## 文件对比

```
:vert[ical] diffs[plit] {filename} "文件对比
[c          " 跳转到上一处差异文件的位置
]c          " 跳转到下一处差异文件的位置
dp          " 将当前窗口光标位置处的内容复制到另一窗口
do          " 将另一窗口光标位置处的内容复制到当前窗口
:diffupdate " 重新比较两个文件，如果手动修改文件的话有时不会自动同步
```

## 快速回跳

```
``  "当前文件上次跳转操作的位置
`.  "上次修改操作的地方
`^  "上次插入的地方
`[  "上次修改或复制的起始位置
`]  "上次修改或复制的结束位置
`<  "上次高亮选区的起始位置
`>  "上次高亮选区的结束位置
```

## 文件操作

```
%  " 当前文件路径
:p " path
:h " head
:t " tail
```

## 基本计算器

在插入模式下，你可以使用 `Ctrl + r` 键然后输出 `=`，再输入一个简单的算式。按 `Enter` 键，计算结果会插入到文件中。

## 加和减

```
ctrl+a //加1
ctrl+x //减1
```

## 折叠

### indent 方式

```
zi 打开关闭折叠
zv 查看此行
zm 关闭折叠
zM 关闭所有折叠
zr 打开折叠
zR 打开所有折叠
zc 折叠
zC 对所在范围内所有嵌套的折叠点进行折叠
zo 展开折叠
zO 对所在范围内所有嵌套的折叠点展开
[z 到当前打开的折叠的开始处。
]z 到当前打开的折叠的末尾处。
zj 向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。
zk 向上移动到前一折叠的结束处。关闭的折叠也被计入。
```
